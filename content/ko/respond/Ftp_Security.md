---
date: 2020-10-22T00:03:01
description: 
featured_image: 
tags: 
title: "FTP는 보안에 취약하다?"
---

![blog_banner_20201102_3](https://github.com/user-attachments/assets/ccfcde89-6d0c-44d8-ad98-92dbddceaa80)

FTP는 파일 송수신을 위한 목적으로 만들어진 프로토콜로서 많은 데이터를 빠르게 주고받을 수 있습니다.<br>
그 원리와 사용법 또한 비교적 간단하여 누구나 편리하게 이용 가능합니다.<br>
하지만 전송 과정에서 데이터가 암호화되지 않고 텍스트 그대로 노출된다는 점에서 보안에 취약하다는 단점이 있습니다.<br>

해커의 포트 스캐닝과 사용자 대입을 통한 무작위 공격으로 사용자의 계정이 탈취될 수 있으며, 악성코드를 업로드해 다수의 이용자 피해가 발생할 수 있습니다.<br>
또한 웹을 공격한 해커는 서버를 통제할 수 있게 되고 더 나아가 기업의 데이터베이스까지 타깃으로 삼습니다.
<br>

따라서 다음과 같은 기본적인 보안 대책이 필요합니다.
> 1. 기본 포트 (command: 21 > 21000, data: 20 > 20000) 변경
>    
> 2. 접근 가능한 IP주소 설정 후 다른 모든 IP주소 접근 제한

이러한 기본적인 보안을 통해 대부분의 해킹 시도를 방지할 수 있습니다.

<br>

하지만 FTP서버를 불특정 다수에게 노출(IP주소와 포트번호) 해야한다면,

추가적인 보안 작업이 필요합니다.
> 3. 사용하는 FTP 서버 정보 종류와 버전 숨기기
>
> 4. 사용자 ID와 비밀번호 관리에 주의

계속하여 시간과 자원은 해커의 편이기에 끊임없는 무차별 공격으로부터 서버의 안전을 보호하기 위해서는

> 5. 프루라의 필터제작 기능을 이용하여 의심 IP를 차단

<br>

한번 직접 필터를 제작해 보겠습니다. <br>
필터 메뉴의 필터등록 페이지에서 필터등록 버튼을 클릭하여 상황에 적합한 필터를 사용자 스스로 제작할 수 있습니다. <br>
저는 ‘vsftpd 비밀번호 실패’라는 명칭으로 필터를 제작하였습니다.

![스크린샷-2020-10-22-14-01-00](https://github.com/user-attachments/assets/e45f76c3-76d2-4b06-9013-8754ebca9e9a)

그럼 이제 해커의 역할이 되어 비밀번호 탈취 시도를 해보겠습니다. <br>
FTP 클라이언트를 통해 짧은 시간 여러 번의 비빌 번호 대입을 시도했습니다. <br>
틀린 비밀 번호를 계속 입력하여 오류를 발생시킵니다.

![스크린샷-2020-10-22-11-01-07](https://github.com/user-attachments/assets/405fc7df-b331-4ded-8107-f3e684d50a04)

해커의 사용자 대입 공격으로 다수의 로그인 시도들이 로그를 통해 프루라에 포착되며, 방금 제작한 사용자 필터를 통해서 해킹 시도가 감지된 것을 확인할 수 있습니다. <br>
IP주소 차단 같이 적절한 방어 조치들 또한 사용자의 필요에 따라 프루라를 통해 이뤄질 수 있습니다.

![해킹-감지](https://github.com/user-attachments/assets/b55893df-82ed-4dd8-86b1-e991d0320975)

기술이 빠르게 발전하는 만큼 해킹 방법도 빠르게 진화합니다. 새로운 차원의 보안 솔루션이 필요한 때입니다.

## 참고 사이트
- [1] "FTP".2012.네이버지식백과.이문규 편.IT동아.https://bit.ly/2HV8KYf
- [2] 해시넷,"무차별 대입 공격", https://bit.ly/2JkbUoF
- [3] 김지언, "FTP서버 잘못 관리했다간 ‘큰 코’ 다친다!", 보안뉴스, https://bit.ly/2TITy2D
- [4] Roger A. Grimes, "NIST 지침과는 무관한" 최고의 비밀번호 조언, IT World, https://bit.ly/320D0rG
