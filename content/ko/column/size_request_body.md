요청본문을 로그로 남기면 용량 증가 몇 %일까 with ChatGPT

전통적으로 웹 서버의 액세스 로그(access.log)에 본문 로그가 없는 이유는 기본 설정에 본문이 포함되어 있지 않으며, 웹 서버 프로그램 설정에서도 제공하지 않기 때문입니다. 또한, 본문 로그를 남기면 로그량이 증가되는 것을 우려하는 것도 한가지입니다.

하지만, 본문 로그 없이 액세스 로그만으로는 대응 방안이 없다는 것과 같을 것입니다.

우리는 반드시 본문을 로그로 남겨 웹방화벽(WAF) 우회 공격에 대응해야 합니다.
[1]

요청본문을 로그로 남기기 위하여 확보해야할 스토리지 공간은 어느 정도 늘려야 될까요? ChatGPT에게 확인해 보겠습니다.

 

키워드: 요청본문, Post-body, Request-body, 요청본문 로그 크기

“본 내용은 ChatGPT와 QnA를 정리한 것으로 ChatGPT 가 작성한 부분에 있어서 임의 수정된 사실은 없습니다.”

 

Q1. 웹의 액세스 로그에 요청본문(Post-body)가 없습니다. 남기고 싶지만, 로그 용량이 증가될 것이 우려스럽습니다. 요청 본문도 액세스 로그로 남긴다면 평균 어느 정도 로그가 증가될까요?

    요청 본문이 포함된 경우 로그 파일의 크기는 요청의 크기와 일치합니다. 따라서 요청 본문이 포함되어 있지 않은 경우와 비교하여 로그 파일의 크기가 상당히 증가할 수 있습니다.

    하지만 실제 증가량은 다양한 요인에 따라 다릅니다. 예를 들어, 요청의 크기, 요청의 빈도, 액세스 로그의 저장 기간 등이 그 예입니다. 요청 본문이 포함되어 있지 않은 로그 파일의 평균 크기와 비교하여 얼마나 증가하는지 정확히 예측하기는 어렵습니다.

    일반적으로 요청 본문을 로그로 남기는 것은 보안, 디버깅 및 분석을 위해 중요합니다. 따라서 로그 용량 증가에 대한 우려가 있더라도 보안 등의 이유로 요청 본문을 로그로 남기는 것이 좋습니다. 그러나 로그 파일 크기를 제한하는 방법, 예를 들면 로그 파일 압축, 로그 롤링 등을 사용하여 로그 용량을 최적화할 수 있습니다.

Q2. POST 요청에서 요청 본문의 크기는 상당히 다양하지만 요청 본문이 있는 경우 로그 파일의 크기는 평균적으로 % 정도 증가된다고 예상할 수 있을까요?

    POST 요청에서 요청 본문의 크기는 상황에 따라 매우 다양하기 때문에, 요청 본문이 있는 경우 로그 파일의 크기가 평균적으로 얼마나 증가할지 정확히 예상하는 것은 어렵습니다.

    그러나 일반적으로 요청 본문이 포함된 경우 로그 파일의 크기는 증가합니다. 이는 요청 본문의 크기와 로그 파일에 로깅되는 요청의 수에 따라 달라집니다. 요청 본문의 크기가 클수록 로그 파일의 크기는 더욱 증가합니다. 또한, 요청 본문이 포함된 요청의 비율이 높을수록 로그 파일의 크기는 더욱 커집니다.

    따라서 요청 본문이 포함된 경우 로그 파일의 크기가 평균적으로 몇 % 증가할지 예측하는 것은 쉽지 않습니다. 그러나 일반적으로는 요청 본문이 포함되지 않은 경우보다 로그 파일의 크기가 증가할 가능성이 높습니다.

Q3. 네 그래서 몇 % 증가된다고 예상한다고 설명해 준다면 스토리지 공간 산정에 도움이 되겠습니다.

    네, 요청 본문이 포함된 경우 로그 파일의 크기는 일반적으로 요청 본문이 없는 경우보다 크기 때문에 스토리지 공간 산정을 위해 예상 증가율을 고려하는 것이 중요합니다.

    전체 로그 파일 크기 대비 POST 요청에서 요청 본문이 차지하는 비율은 상황에 따라 다르기 때문에 정확한 예상 증가율을 제공하는 것은 어렵습니다. 그러나 대략적으로 예상되는 증가율은 30%에서 50% 정도로 예상할 수 있습니다.

    따라서, 예를 들어 현재 로그 파일이 100GB이고 POST 요청에서 요청 본문을 기록하지 않은 경우, POST 요청에서 요청 본문을 기록할 경우 총 로그 파일 크기는 대략 130GB에서 150GB 정도가 될 수 있습니다. 이를 고려하여 스토리지 공간을 계획하는 것이 좋습니다.

 

참고 사이트
[1] 웹방화벽 우회 공격 어떻게 대응할 수 있을까요?, http://blog.plura.io/?p=19174
By Creator|5월 5th, 2023|Categories: Column|요청본문을 로그로 남기면 용량 증가 몇 %일까 with ChatGPT 댓글 닫힘
Share This Story, Choose Your Platform!
FacebookTwitterLinkedInRedditWhatsappGoogle+TumblrPinterestVkEmail
About the Author: Creator	
Related Posts

    이상징후 탐지, 1분 만에 해결! PLURA 포렌식으로 빠르게 대응하세요
    이상징후 탐지, 1분 만에 해결! PLURA 포렌식으로 빠르게 대응하세요 
