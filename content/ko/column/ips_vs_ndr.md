---
title: "IPS와 NDR 차이와 한계"
date: 2023-02-23
draft: false
description: "IPS와 NDR의 주요 차이점과 한계를 분석하고, 호스트 기반 보안 시스템의 필요성을 논의합니다."
featured_image: "cdn/column/ips_vs_ndr.jpg"
tags: ["IPS", "NDR", "보안", "네트워크 보안", "암호화 패킷", "Endpoint Security"]
---

🔍 **IPS**(Intrusion Prevention System)와 **NDR**(Network Detection and Response)은 모두 네트워크 보안 분야에서 특정 역할을 차지하고 있지만, **각기 다른 목적과 구현 방식**을 가집니다.  
이 문서에서는 **IPS**와 **NDR**의 정의와 차이, 그리고 암호화 트래픽이 늘어나고 있는 현대 환경에서 **이들이 지닌 한계**를 살펴보겠습니다. 또한, 이러한 한계를 보완하기 위해 왜 **호스트 기반 보안**(예: EDR) 솔루션이 필요해지고 있는지 설명합니다.

![IPS와 NDR의 차이](https://blog.plura.io/cdn/column/ips_vs_ndr.jpg)

<!--more-->

---

## 1. **IPS와 NDR의 주요 차이점**

### 💡 정의
- **IPS**: 네트워크 내부로 침입하는 **악성 트래픽**을 실시간으로 **탐지하고 차단**하는 시스템입니다. 주로 **네트워크 경계**에서 동작하며, 알려진 공격 패턴 또는 특정 규칙에 따라 트래픽을 차단합니다.  
- **NDR**: 네트워크 트래픽을 **모니터링**하고, 다양한 **데이터 분석 기법(머신러닝, 통계 분석 등)**을 활용하여 **이상 행위**를 감지해 **대응**하는 시스템입니다. 기존 시그니처 기반 탐지 방식의 한계를 보완하고, **알려지지 않은 위협**에 대한 대응력을 높입니다.

### 🔑 주요 차이

| **구분**     | **IPS**                                                              | **NDR**                                                |
|--------------|----------------------------------------------------------------------|--------------------------------------------------------|
| **목적**      | 실시간 침입 차단 및 방어                                               | 네트워크 내부 이상 행위 탐지 및 사후(or 실시간) 대응     |
| **위치**      | 주로 네트워크 경계(게이트웨이, 방화벽 구간 등)에서 동작               | 네트워크 내부(스위치, 탭, 미러링 포트 등)에서 트래픽 수집  |
| **분석 방식** | 알려진 패턴(시그니처), 특정 규칙(룰셋) 등을 기반으로 빠르게 분석      | 머신러닝·AI·행위 기반 분석으로 알려지지 않은 위협에도 대응   |
| **대응 방법** | 공격으로 의심되면 트래픽 자체를 즉시 차단                              | 이상 징후 식별 후, 관리자 알림·자동격리·추가조치 등 다양      |

> **정리**: **IPS**는 **차단** 중심, **NDR**은 **이상 행위 탐지**와 **분석** 중심이라는 차이가 있습니다.  
> 그러나 둘 다 **네트워크 레벨 보안**이라는 점에서는 유사하며, 암호화 트래픽이 늘어날수록 **공통된 한계**가 존재합니다.

---

## 2. **암호화된 패킷 분석의 한계**

### 🔒 암호화된 패킷과 분석 문제
- **IPS와 NDR이 공통적으로 직면하는 문제**  
  - HTTPS, TLS, SSH 등 암호화된 트래픽은 패킷의 **본문**(페이로드)을 해석하기 어렵습니다.  
  - 패킷 헤더나 메타데이터(IP, 포트, 패킷 크기, 연결 빈도 등)를 분석해 **간접적으로** 이상 여부를 파악하지만, **정밀도**가 떨어질 수 있습니다.  
- **SSL/TLS 해제(Decryption)**  
  - 조직 내부에서 **프록시** 서버나 **SSL 가시화**(Decryption) 장비를 두어 암호를 해제하면, 패킷 내용을 파악해 **정밀 분석**이 가능해집니다.  
  - 하지만 이는 **성능 저하**, **개인정보 이슈**, **추가 비용** 등을 유발할 수 있어 모든 환경에 적용하기가 쉽지 않습니다.

### 🔍 NDR의 접근법
- **메타데이터 분석**  
  - 통계적·행위 기반 접근(머신러닝, AI)을 통해, 패킷의 **크기 변화**, **비정상적인 연결 빈도**, **세션 지속시간** 등 **행위적 특성**을 분석합니다.  
  - 알려지지 않은 신종 위협이나 내부 이상 징후를 비교적 빠르게 감지할 수 있으나, **오탐(정상행위인데 공격으로 인식)** 문제도 따를 수 있습니다.
- **암호화 트래픽의 다른 단서 활용**  
  - 예: DNS 요청, 인증서 교환 과정, SNI(Server Name Indication) 정보, 암호화 채널 설정(Handshake) 등  
  - 완벽한 ‘본문 분석’은 아니지만, **연결 과정**이나 **메타정보**만으로도 공격 패턴을 발견하려는 시도를 합니다.

---

## 3. **암호화 환경에서의 대응 방안**

### 🌐 **TLS/SSL 해제와 패킷 분석**
- **전통적인 IPS**나 **NDR** 모두, SSL/TLS를 **해제**하여 평문 트래픽을 확보하면 **보다 정확한** 공격 탐지가 가능합니다.  
- 하지만, 이 과정에서 **네트워크 성능 저하**, **개인정보 보호 이슈**, **서버 인증서 관리** 등의 문제를 감수해야 합니다.  
- 따라서, **고위험 또는 특정 구간**에 대해서만 SSL 해제를 도입하고, 나머지는 호스트 기반 보안으로 대응하는 **혼합 방식**이 권장되는 경우도 있습니다.

### 🚧 **오탐 문제**
- 암호화된 환경에서, **메타데이터만**으로 이상을 판단하기에는 **정확도**가 떨어집니다.  
- **SSH, RDP, PKI** 등의 완전 암호화된 프로토콜은 **본문**을 보기 힘들기 때문에, **이상 징후**에 기반한 추론만 가능하여 **오탐** 또는 **과탐**(의심되는 활동이 너무 많아서 관리 부담 증가)이 생길 수 있습니다.

---

## 4. **호스트 기반 보안 시스템의 필요성**

### 🛡️ **호스트 기반 보안의 장점**
1. **본문(페이로드) 분석 가능**  
   암호화된 트래픽도, **호스트 내부**에서는 결국 복호화된 상태로 처리됩니다. 이 시점에서 **호스트 기반 보안(EDR 등)**이 동작하면, **실제 데이터 내용**을 분석해 정교한 방어가 가능합니다.  
2. **실시간 & 독립적 대응**  
   네트워크 기반 솔루션과 무관하게, 서버·PC 자체에서 악성 행위를 감지해 곧바로 조치할 수 있습니다.  
3. **네트워크 성능 영향 감소**  
   네트워크 레벨에서 일일이 복호화·재암호화를 하지 않아도 되므로, **네트워크 장비**나 **통신 성능**에는 부담이 상대적으로 적습니다.

### 🤝 **통합 보안 전략**
- **IPS & NDR**은 네트워크 관점에서 **침입 시도와 이상 행위**를 폭넓게 감지할 수 있습니다.  
- **EDR(Endpoint Detection & Response)** 등 호스트 중심 보안 솔루션은 **암호화 트래픽 한계**를 보완하며, 각 시스템 내부를 **세밀**하게 지켜봅니다.  
- 결국 **네트워크와 호스트**를 함께 감시·분석하는 **다층 보안 전략**이 이상적인 해법이 됩니다.

---

## ✍️ 결론

### 🔑 IPS와 NDR의 역할
- **IPS**는 **실시간 침입 차단**에, **NDR**은 **이상 행위 감지 및 분석**에 각각 강점을 지니며, 서로를 **보완적**으로 사용할 수 있습니다.  
- 암호화 트래픽이 늘어나는 추세에서는, **메타데이터 기반 분석의 한계**로 인해 **정확도**가 떨어지고, **오탐**이 늘어날 수 있습니다.

### 🔒 호스트 기반 보안의 필요성
- SSH, RDP 등 **완전 암호화된 프로토콜**이 보편화된 오늘날, 네트워크 솔루션만으로는 **본문**을 알 수 없어 탐지가 어렵습니다.  
- **호스트 기반 보안(EDR, HIPS 등)**을 도입하면, **복호화된 상태**에서 공격 코드를 파악하고 차단할 수 있어 보안의 **완결성**이 높아집니다.

✅ **결론적으로, 단일 보안 솔루션만으로는 완벽한 방어가 어렵습니다.**  
네트워크 기반(IPS, NDR)과 호스트 기반(EDR) 보안을 **다층적으로** 결합하면, 암호화 트래픽 환경에서도 **높은 수준**의 방어 체계를 구축할 수 있습니다.

---

## 🔗 참고 자료
- ["침입차단시스템(IPS)에 대한 이해 with ChatGPT"](http://blog.plura.io/?p=18840)  
- 일부 참고 자료 및 예시는 최신 정보와 다를 수 있으며, 실제 운영 환경이나 솔루션 선택 시 **별도의 검증**이 필요합니다.
