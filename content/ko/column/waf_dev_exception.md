---
title: "웹방화벽이 차단하는 이유는, 개발 때문입니다"
date: 2025-07-11
draft: false
description: "웹방화벽은 왜 자꾸 예외처리만 늘어날까요? 그 이유는 웹 개발 방식에 있습니다. 보안을 고려하지 않은 개발은 결국 새로운 취약점이 됩니다."
featured_image: "cdn/column/waf_dev_exception.jpg"
tags: ["웹방화벽", "보안 예외", "개발 보안", "WAF", "보안 설계"]
---

🚧 **웹방화벽이 너무 많이 막는다고요?**  
그렇다면 한번 되묻고 싶습니다.  
"그걸 왜 그렇게 개발하셨나요?"

<!--more-->

![웹방화벽 예외처리와 보안 허점](https://blog.plura.io/cdn/column/waf_dev_exception.jpg)

---

### 1. **웹방화벽은 무조건 문제가 될까?**

웹방화벽(WAF)은 공격을 막기 위해 존재합니다.  
그러나 다음과 같은 상황에서는 WAF가 의도치 않게 정상 요청도 차단하게 됩니다:

- GET 요청의 URL 파라미터에 IP주소를 포함 (예: `GET /user?ip=1.2.3.4`)
- 비정상적인 특수문자나 SQL 구문이 포함된 요청
- 내부 테스트용으로 남겨둔 백도어 API 호출

이러한 요청이 웹방화벽에 의해 차단되자, 많은 기업은 "정상 요청이 차단됐다"고 판단하고  
**해당 URL을 예외 처리**합니다. 바로 여기서 문제가 시작됩니다.

---

### 2. **예외처리된 URL, 해커가 가장 먼저 노리는 곳**

WAF에 예외 등록된 경로는 보안 장벽이 없는 무방비 상태입니다.  
즉, 공격자 입장에서는 가장 먼저 탐색할 대상이 됩니다.

- 실제 공격자는 예외 등록된 URI 패턴을 추적합니다.
- 개발 중 테스트로 등록된 백도어 URL이 실제 해킹에 사용됩니다.
- 정상 API처럼 보이는 공격 URL이 우회 경로가 됩니다.

이처럼 **개발자의 부주의한 설계가 결국 웹방화벽의 보안 효과를 무력화**시키고,  
그 경로가 **새로운 취약점이 되는 것**입니다.

---

### 3. **문제는 웹방화벽이 아니라, 개발 프로세스**

웹방화벽이 차단한 내용을 자세히 보면,  
보안을 고려하지 않은 개발 패턴이 대부분입니다:

| 부주의한 개발 방식                  | 결과                                  |
|-------------------------------|-------------------------------------|
| GET 요청에 민감 정보 포함            | 웹방화벽이 URL 기반 공격으로 판단하여 차단 |
| 요청 본문에 SQL 구문 포함            | SQL Injection 패턴으로 인식하여 차단     |
| 정규 API 경로 외 테스트용 경로 유지     | 인증 우회 가능성 존재                    |
| 사용자 입력 검증 없이 직접 파라미터 전달 | XSS/CSRF 공격 가능성 증가                |

이러한 상황을 반복적으로 겪다 보면  
**WAF는 계속해서 예외 리스트만 늘어나고, 보안은 약해지기만 합니다.**

---

### 4. **해결책: 개발 초기부터 WAF 차단 모드 적용**

✅ 웹방화벽은 서비스 오픈 이후 붙이는 게 아니라, **개발 초기부터 차단 모드로 함께 가야 합니다.**

- 개발자는 WAF 정책 안에서 개발합니다.
- 이상한 요청은 차단되며, 개발 단계에서 수정됩니다.
- 예외처리 없는 완성도 높은 보안 아키텍처가 구현됩니다.

| 기존 방식                      | 권장 방식 (Secure-by-Design)     |
|-------------------------------|----------------------------------|
| 개발 → 오픈 → WAF 적용 → 예외처리 | 개발 초기 → WAF 차단 모드 적용 → 설계 및 개발 진행 |

---

### 🔍 결론: 개발자가 만든 예외는, 결국 취약점이 됩니다

웹방화벽은 개발자의 실수를 보완하는 최후의 보루입니다.  
그러나 반복되는 예외 처리로 WAF가 무력화되면,  
**그 실수는 곧 해킹의 진입로**가 됩니다.

**이제는 보안이 사후가 아닌, 사전이 되어야 할 때입니다.**

---

### 📖 함께 읽기

- [웹 서비스의 취약점은 대응할 수 있을까?](https://blog.plura.io/ko/column/vulnerabilities_web/)  
- [워드프레스로 만든 사이트 필수 보안 TOP 10](https://blog.plura.io/ko/column/wordpress_security_top10/)  
- [크리덴셜 스터핑 공격, 웹 로그로 잡을 수 있을까?](https://blog.plura.io/ko/column/credential_stuffing/)  
