---
title: "[정책제안] 대학 정보보안 고도화 사업의 ‘가시성 장비’는 왜 방화벽·WAF 뒤에 둬야 하나 — 불필요한 분석을 줄이고 실효성 있는 위협 대응으로"
date: 2026-02-12
draft: false
description: "가시성 장비를 방화벽/WAF 이전(외부)에 두면 스캔·봇·차단 트래픽까지 전부 분석해야 해 비용과 노이즈만 증가합니다. 방화벽·WAF 이후(차단 후 허용 구간)에 배치해 내부로 유입된 공격만 정밀 분석하고, 차단 이벤트는 로그로 연동해 선제 대응합니다. 또한 유사 아키텍처는 큐비트시큐리티의 특허 포트폴리오와 충돌 가능성이 있어 사전 FTO 검토가 필요합니다."
featured_image: "cdn/column/policy-proposal-visibility-after-fw-waf.png"
tags: ["교육부", "대학", "TMS", "Visibility", "방화벽", "WAF", "보안관제", "특허리스크"]
---

> **요약 한 줄**  
> **원칙: 가시성(Visibility) 확보 장비는 ‘외부(방화벽·WAF 이전)’가 아니라 ‘차단 이후(방화벽·WAF 이후)’에 배치한다.**  
> **보완: 외부에서 차단된 공격/스캔은 ‘전체 패킷’이 아니라 방화벽·WAF의 차단 로그(메타데이터)로 수집·연동한다.**  
> **효과: 불필요한 분석(노이즈)↓, 실효성(정밀도)↑, 저장/전송/인력 비용↓, 사고대응 속도↑.**  
> **주의: 유사 구성은 큐비트시큐리티의 특허 포트폴리오와 충돌(침해 주장) 가능성이 있으므로, 사업 단계에서 특허 검토(FTO)를 필수로 포함한다.**  

<!--more-->

---

## 0) 정책 제안 요지

### 정책 목표
교육부 추진 “대학 정보보안 체계 고도화” 사업에서 **TMS(Threat Management System) 및 가시성 확보 장비** 도입의 본래 목적(선제적 탐지·대응)을 달성하도록, **가시성 장비 설치 위치와 데이터 수집 범위를 표준화**합니다.

### 적용 범위
* 대학 인터넷 관문(대외 구간) 및 DMZ/서비스 구간(대학 홈페이지, 포털, 학사/연구 시스템 등)
* 교육부 사이버안전센터(ECSC) 연동을 포함한 중앙 집중형 관제 체계
* 온프레미스/클라우드/하이브리드 모두(단, 구간 정의는 동일)

### 핵심 권고(정책 문구 예시)
1. **가시성 장비는 방화벽(FW)·WAF 이후(허용 트래픽 구간)에 배치**한다.  
2. 방화벽·WAF 이전(외부 구간)에서의 “가시성 확보”는 **전량 패킷 미러링이 아니라 차단/허용 이벤트 로그(메타데이터) 수집을 원칙**으로 한다.  
3. **정밀 분석(패킷/본문 기반)**은 “차단을 통과해 내부로 유입된 트래픽”에 집중한다.  
4. 중앙(ECSC)으로의 전송·분석 대상은 **‘실제 내부 도달 트래픽 + 상관 가능한 로그’로 제한**하여, 대량 노이즈/중복 전송을 방지한다.  
5. 동 아키텍처(차단 후 정밀 분석/본문 분석/실시간 탐지·대응)가 **제3자 특허와 충돌 가능성이 있으므로, 조달·구축 단계에 ‘특허 FTO 검토’와 ‘비침해 보증/면책’ 요건을 포함**한다.

### 성과 지표(예시)
* (품질) **오탐(불필요 분석) 감소율**, **정밀도(Precision) 향상**, “고위험 실제 침해” 탐지 건수
* (비용) 저장/전송 트래픽, 분석 처리량(pps/Gbps), 분석 인력 투입 시간
* (대응) 평균 탐지 시간(MTTD), 평균 대응 시간(MTTR), 재발 방지 조치 완료율

---

## 1) (현재 방식) ‘외부(방화벽·WAF 이전)’ 배치의 겉보기 장점

외부 구간에 가시성 장비를 두면 다음이 “좋아 보일” 수 있습니다.

* **공격 시도(스캔/봇/무차별 대입) 전량 관측 가능**  
* “교육부 중앙 분석” 관점에서 **데이터가 많을수록 더 잘 탐지할 것 같은 인상**
* 일부 벤더의 마케팅에서 **‘인터넷을 그대로 들여다본다’**는 표현이 쉬움

> 하지만 이 장점은 **데이터의 ‘양’**에 치우친 착시일 가능성이 큽니다.  
> 보안관제의 성패는 “얼마나 많이 봤는가”가 아니라 **“무엇을, 왜, 어디까지 봐야 하는가”**를 정하는 데서 갈립니다.

---

## 2) 외부 배치의 치명적 단점: “불필요한 분석”이 구조적으로 발생한다

### 2-1. 노이즈(Noise) 폭증 → 실효성 없는 결과로 귀결

이 구조는 다음과 같은 상황과 유사합니다.

> **아파트 단지 내에 가게가 있는데,
> 단지 안을 지나가는 모든 사람에게
> “혹시 우리 가게에 들어오실 건가요?”라고 묻는 것과 같습니다.**

아파트를 지나가는 사람들 대부분은
그 가게와 무관합니다.

* 단순히 산책하는 사람
* 다른 상점을 가는 사람
* 택배 기사
* 외부 방문객

이들에게 일일이 질문하는 행위는
정보는 많이 모으는 것처럼 보이지만,
실제로는 **매장에 들어온 고객을 분석하는 데 도움이 되지 않습니다.**

보안 구조도 동일합니다.

외부 구간에서 가시성 장비를 두면 다음을 모두 분석하게 됩니다.

* 인터넷 상시 스캔
* 봇 트래픽
* 자동화 취약점 탐색
* 방화벽·WAF에서 이미 차단될 요청

이들은 대부분 **실제 내부로 유입되지 않는 트래픽**입니다.

결과적으로 분석 자원은
“아파트를 지나가는 사람들”을 분석하는 데 쓰이고,
정작 중요한 것은 놓치게 됩니다.

반면,
방화벽·WAF 이후에 배치하면 상황은 달라집니다.

이는 곧,

> **가게 문을 실제로 열고 들어온 사람만 분석하는 구조**입니다.

즉,

* 이미 1차 필터를 통과한 트래픽
* 실제 피해 가능성이 존재하는 요청
* 내부 시스템과 상호작용한 세션

에 대해서만 정밀 분석이 이루어집니다.

보안에서 중요한 것은
**“얼마나 많이 보았는가”가 아니라,
“실제로 의미 있는 것을 얼마나 정확히 보았는가”입니다.**

외부 배치는 데이터의 양을 늘리지만,
방화벽·WAF 이후 배치는 분석의 질을 높입니다.

---

### 2-2. 비용 구조가 급격히 악화(저장·전송·처리·인력)
전량 패킷/세션 기반 분석은 비용이 다음처럼 곱으로 증가합니다.

* (전송) 대학→중앙(ECSC) 업링크 대역폭
* (저장) 원시 패킷/세션 보관 스토리지
* (처리) DPI/룰 매칭/행위 분석 컴퓨팅
* (운영) 튜닝·예외처리·오탐 처리 인력

즉, **“외부에서 많이 수집할수록” 예산이 ‘효과’가 아니라 ‘노이즈 처리’에 소비**됩니다.

### 2-3. 암호화(TLS) 환경에서 “보이는 것”이 제한적
오늘날 대다수 웹 트래픽은 TLS로 암호화됩니다.  
외부 구간에서 payload(요청/응답 본문)를 보려면 별도 복호화 체계(키 관리/프록시)가 필요해지고, 이는 **구성 복잡도·장애 위험·규정 준수 부담**을 키웁니다.

---

## 3) 정책 권고: “방화벽·WAF 이후” 배치가 실효성을 만든다

가시성 장비의 목표가 “선제 대응을 위한 분석”이라면, 가장 중요한 것은 **신호대잡음비(SNR)** 입니다.

### 3-1. 차단은 앞단(FW·WAF)에서, 정밀 분석은 뒤단에서
* **방화벽·WAF가 먼저 차단**: 알려진/명백한 공격·비정상 패턴을 앞단에서 차단  
* **가시성 장비는 ‘통과한 트래픽’만 분석**: 실제 내부로 유입된(=피해로 이어질 수 있는) 트래픽에 분석 자원 집중

이 구조가 되면,
* 분석 대상이 “실제로 의미 있는 사건”으로 좁혀져  
* 탐지 규칙·AI 모델·분석 인력이 **고부가가치 구간(침해 가능 구간)에 투자**됩니다.

### 3-2. “차단 이벤트”는 패킷이 아니라 로그로도 충분히 관제 가능
외부 구간에서 필요한 정보는 대부분 다음으로 대체할 수 있습니다.

* 방화벽: drop/deny 로그, 정책 히트, 세션 통계
* WAF: 차단 룰, 공격 유형, URI/파라미터 메타, 클라이언트 지문
* DDoS 보호: 레이트리밋/스러틀 이벤트, 공격 벡터 요약

즉, 외부의 ‘위협 시도’는 **메타데이터(로그) 기반으로도 충분히 상황 인지/추세 분석**이 가능하고,  
정밀 분석은 **내부 도달 트래픽에만** 수행하는 것이 합리적입니다.

---

## 4) 권고 아키텍처(참조 구성)

### 4-1. 문제 구성(예): 외부에 가시성 장비 배치
```
[Internet]
   |
[Visibility 장비]  ← (전량 수집/분석 요구) 스캔·봇·차단될 트래픽까지 분석
   |
[FW] → [WAF] → [DMZ/서비스] → [내부망]
```

**문제점 요약**
* 분석 대상 과잉(노이즈) + TLS로 payload 가시성 제한 + 중앙 전송/보관 비용 폭증

### 4-2. 권고 구성: FW·WAF 이후(허용 구간)에 가시성 장비 배치
```
[Internet]
   |
[FW] → [WAF(또는 Reverse Proxy/TLS 종단)]
   |
   +-- (차단/허용 로그) ---> [TMS/중앙관제(ECSC) 연동]
   |
[Visibility 장비(미러/탭)]  ← '통과한 트래픽' 정밀 분석(필요시 본문/세션)
   |
[DMZ/서비스] → [내부망]
```

**핵심**
* 앞단은 “차단과 요약(로그)”  
* 뒤단은 “정밀 분석과 상관분석(실제 내부 도달 트래픽)”

### 4-3. 구축 시 체크포인트(기술 요구조건 예시)
* 가시성 장비는 **TAP/SPAN/Packet Broker 기반 미러링**을 원칙으로 하여 서비스 장애 위험 최소화
* WAF/리버스프록시가 TLS를 종단하는 경우, 가시성 장비는 **종단 이후 평문 구간(백엔드 구간)**에서 본문 분석 가능
* WAF 우회/우회성 공격은 “차단을 통과한 흔적”이 뒤단에서 드러나므로, **TMS와의 상관분석(웹/서버/DB 로그)**을 표준 연동

---

## 5) 기대 효과(정책 효과)

### 5-1. 분석 효율(품질) 개선
* 오탐/노이즈 분석 시간 감소
* “실제 침해 가능 사건” 집중 → 탐지 신뢰도 상승
* 대학별 환경 차이를 반영한 정책/룰 튜닝이 쉬워짐(데이터가 ‘정제’되어 들어오기 때문)

### 5-2. 비용(예산) 효율 개선
* 중앙 전송/저장 데이터 감소
* 장비 성능 요구(처리량/저장량) 완화 → 도입/운영비 절감
* 관제 인력의 반복 업무 감소

### 5-3. 사고 대응력 강화
* 내부 유입 공격에 대한 증거(세션/본문/연관 로그)가 확보되어 원인 분석·재발 방지 조치가 빨라짐
* 탐지→차단/격리→룰 반영의 자동화(SOAR 연동) 품질 상승

---

## 6) 특허 리스크: “구성 자체”가 분쟁의 쟁점이 될 수 있다 (검토 필수)

> 아래 내용은 법률 자문이 아니며, **특허 침해 여부의 최종 판단은 변리사/변호사의 권리범위 해석 및 사실관계 검토**가 필요합니다.

### 6-1. 왜 특허 검토가 필요한가
본 사업이 지향하는 아키텍처(차단 후 유입 트래픽 정밀 분석, 웹 요청/응답 본문 분석, 실시간 탐지·대응 자동화)는  
일부 기업이 **국내외 특허 등록/보유를 주장하거나 공개적으로 언급**하는 영역과 겹칠 수 있습니다.

* SparkLabs의 큐비트시큐리티 소개 자료는 관련 기술이 **미국·중국·국내에서 특허 등록 완료**라고 설명합니다. citeturn1view0  
* PLURA 문서(큐비트시큐리티 소개)는 **‘글로벌 특허 기술’**을 언급합니다. citeturn1view1  
* 공개된 자료에서는 웹 공격 대응 과정에서 **요청 본문(Post-body)과 응답 본문 분석을 통한 대응 방식이 특허기술**이라고 언급합니다. citeturn1view2  

따라서, 교육부 표준 아키텍처가 이와 유사한 형태(기술적 구성요소 및 동작 흐름)를 요구할 경우,
* 특정 벤더가 **특허 침해(또는 권리범위 포함)**를 주장할 가능성이 있고
* 조달 이후 분쟁 시 **사업 지연·추가 비용·운영 중단 위험**이 발생할 수 있습니다.

### 6-2. 조달/구축 단계에서의 “특허 리스크 관리” 권고
1. **사전 특허조사(FTO: Freedom-to-Operate) 의무화**
   * 설계 확정 전: 핵심 기능(본문 분석, 차단-분석 연동, 실시간 대응)의 키워드로 특허 검색/분석
   * 국내(KIPRIS) + 주요 해외(미국/중국 등) 범위 검토 citeturn0search3
2. **RFP/제안요청서에 필수 조항 포함**
   * 납품사가 제안 기술에 대해 **제3자 권리(특허) 비침해 보증**을 제공
   * 분쟁 발생 시 **방어·대체 제공·손해배상(면책/보상) 책임** 명시
   * 필요 시 **라이선스 확보 계획** 제출 요구
3. **표준 아키텍처는 ‘기능 요구’ 중심으로, 구현은 ‘다양한 설계 대안’ 허용**
   * 특정 구현 방식(알고리즘/동작 흐름)을 고정하면 권리범위 충돌 위험이 커질 수 있으므로,
   * 동일한 보안 효과를 내는 **대체 설계(Design-around)**를 허용하는 문구 설계가 필요

---

## 7) 시행 로드맵(권고)

* **T+30일:** 현행 설계(외부/내부 배치) 점검, 트래픽/로그 수집 범위 정의, FTO 착수
* **T+60일:** 표준 참조 아키텍처(방화벽·WAF 이후 배치)로 PoC, 노이즈 감소/탐지 품질 지표 측정
* **T+90일:** 대학별 전환 설계 확정(미러링, 로그 연동, 중앙 전송 정책), 특허 검토 결과 반영
* **T+180일:** 전 대학 단계적 적용, 운영 자동화(SOAR) 연동, 예외 케이스(특수망/클라우드) 가이드 보강

---

## 8) 반론에 대한 답변(FAQ)

### Q1. “외부에 둬야 공격을 더 빨리 알 수 있지 않나요?”
A. 공격 “시도”는 외부에서 많지만, 실제 피해는 “차단을 통과한 공격”에서 발생합니다.  
외부 시도는 FW/WAF 로그로 충분히 추세 파악이 가능하고, 정밀 분석은 뒤단에 집중하는 것이 탐지·대응 효율을 높입니다.

### Q2. “뒤에 두면 차단된 공격의 증거(패킷)를 못 남기지 않나요?”
A. 정책상 목적이 ‘실효성 있는 대응’이라면, 차단 이벤트는 패킷 전량이 아니라 **룰/URI/시그니처/지문 등 메타데이터**로도 충분합니다.  
필요한 경우에 한해 **샘플링(예: 상위 N개, 특정 룰 트리거 시)** 등 제한적 패킷 캡처를 예외로 둘 수 있습니다.

### Q3. “TLS 때문에 본문 분석이 필요해 외부에 둬야 하는 것 아닌가요?”
A. 일반적으로 본문 분석은 **TLS 종단 이후**가 가장 자연스럽습니다.  
WAF/리버스프록시가 TLS를 종단한다면, 뒤단(백엔드)에서 오히려 **정합성 있는 본문 기반 분석**이 가능합니다.

### Q4. “특허는 벤더가 알아서 해결해야 하는 것 아닌가요?”
A. 분쟁은 결국 **사업 지연/추가비용**으로 발주기관과 대학에 전가될 수 있습니다.  
따라서 발주 단계에서 FTO 및 비침해 보증/면책 조항을 명시해 **리스크를 계약으로 통제**하는 것이 필수입니다.

---

## 맺음말

교육부 추진 사업의 핵심은 “데이터를 많이 모으는 것”이 아니라,  
**차단 이후 내부로 유입된 공격에 집중해 ‘정밀하게 분석하고 신속히 대응’하는 체계를 만드는 것**입니다.

**가시성 장비는 방화벽·WAF 이후에 배치되어야 하며,**  
외부 구간의 위협 시도는 로그 기반으로 충분히 연동할 수 있습니다.

또한 유사 아키텍처는 **특허 분쟁 리스크**가 존재할 수 있으므로,  
사업 단계에서 **FTO 검토 및 계약상 비침해/면책 체계**를 반드시 포함해야 합니다.
