---
date: 2020-10-22T00:03:00
draft: false
title: "FTPはセキュリティに脆弱か？"
description: 
featured_image: "cdn/threats/ftp_security_vulnerabilities_and_defense_measures-1.png"
tags: ["FTP", "セキュリティの脆弱性", "ファイル転送", "ハッキング防止", "ブルートフォース攻撃"]
---

FTPはファイル送受信を目的に作られたプロトコルで、多くのデータを高速でやり取りできます。  
その仕組みや使い方も比較的簡単で、誰でも便利に利用できます。  
しかし、転送過程でデータが暗号化されず、テキストのまま露出する点でセキュリティに脆弱という欠点があります。  

<!--more-->

![ftp_security_vulnerabilities_and_defense_measures](https://blog.plura.io/cdn/threats/ftp_security_vulnerabilities_and_defense_measures-1.png)

ハッカーのポートスキャンとユーザーアカウントのブルートフォース攻撃によって、ユーザーのアカウントが奪われ、マルウェアをアップロードして多数の利用者に被害が及ぶ可能性があります。  
また、ウェブを攻撃したハッカーはサーバーを制御し、さらに企業のデータベースをターゲットにすることもあります。  

したがって、以下のような基本的なセキュリティ対策が必要です。  
> 1. 基本ポート（command: 21 > 21000, data: 20 > 20000）を変更  
> 2. アクセス可能なIPアドレスを設定し、他のIPアドレスからのアクセスを制限  

これらの基本的なセキュリティ対策によって、大部分のハッキング試行を防ぐことができます。

しかし、FTPサーバーを不特定多数に公開（IPアドレスとポート番号）する必要がある場合は、追加のセキュリティ作業が必要です。  
> 3. 使用するFTPサーバー情報の種類とバージョンを隠す  
> 4. ユーザーIDとパスワードの管理に注意  

時間とリソースはハッカーの味方であり、絶え間ない無差別攻撃からサーバーの安全を守るためには、  

> 5. PLURAのフィルター作成機能を利用して疑わしいIPをブロック  

実際にフィルターを作成してみましょう。  
フィルターメニューのフィルター登録ページでフィルター登録ボタンをクリックして、状況に適したフィルターをユーザー自身で作成できます。  
私は「vsftpdパスワード失敗」という名前でフィルターを作成しました。

![2020-10-22-14-01-00](https://github.com/user-attachments/assets/c138c413-1731-48b7-9d5d-b5aeab3a3865)

それでは、ハッカーの役割を演じて、パスワード窃盗を試みてみます。  
FTPクライアントを通じて短時間で何度もパスワードの試行をしました。  
間違ったパスワードを繰り返し入力してエラーを発生させます。

![2020-10-22-11-01-07](https://github.com/user-attachments/assets/bc9e7633-6979-4bac-9abd-6e10a122b35c)

ハッカーのユーザー入力攻撃により、多数のログイン試行がログに記録され、PLURAによって捕捉されます。  
そして、先ほど作成したユーザーフィルターを使って、ハッキング試行が検出されたことが確認できます。  
IPアドレスのブロックなど、適切な防御措置もユーザーのニーズに応じてPLURAで行うことができます。

![13246846](https://github.com/user-attachments/assets/701840ca-3cd0-458c-a6ec-b33374209023)

技術が急速に進化する中、ハッキング手法も迅速に進化しています。新しい次元のセキュリティソリューションが必要な時です。

## 参考サイト
- [FTP_2012_Naver Knowledge Encyclopedia_Imun-gyu_IT Dong-A](https://bit.ly/2HV8KYf)
- [Haishinet_ブルートフォース攻撃](https://bit.ly/2JkbUoF)
- [Kim Ji-eon_FTPサーバーの管理を誤ると‘大きな危険’が発生する！_Security News](https://bit.ly/2TITy2D)
- [NISTのガイドラインに基づかない 最高のパスワードアドバイス_IT World](https://bit.ly/320D0rG)
